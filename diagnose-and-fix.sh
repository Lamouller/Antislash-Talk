#!/bin/bash
# Script de diagnostic et correction automatique des erreurs

cd ~/antislash-talk

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m'

echo -e "${BLUE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
echo -e "${BLUE}‚ïë    üîç DIAGNOSTIC ET CORRECTION AUTOMATIQUE                ‚ïë${NC}"
echo -e "${BLUE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
echo ""

# Fonction pour afficher le statut
print_check() {
    if [ $1 -eq 0 ]; then
        echo -e "${GREEN}‚úÖ $2${NC}"
    else
        echo -e "${RED}‚ùå $2${NC}"
    fi
}

# ============================================================
# 1. V√âRIFICATION DES SERVICES DOCKER
# ============================================================
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}1Ô∏è‚É£  V√âRIFICATION DES SERVICES DOCKER${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

SERVICES=("db" "kong" "auth" "rest" "realtime" "storage" "meta" "studio" "web" "ollama")
MISSING_SERVICES=()

for service in "${SERVICES[@]}"; do
    if docker ps | grep -q "antislash-talk-$service"; then
        print_check 0 "$service est actif"
    else
        print_check 1 "$service n'est PAS actif"
        MISSING_SERVICES+=("$service")
    fi
done

if [ ${#MISSING_SERVICES[@]} -gt 0 ]; then
    echo ""
    echo -e "${YELLOW}‚ö†Ô∏è  Services manquants: ${MISSING_SERVICES[*]}${NC}"
    read -p "Voulez-vous red√©marrer les services manquants ? (o/n) " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Oo]$ ]]; then
        echo -e "${BLUE}üîÑ Red√©marrage des services...${NC}"
        docker compose -f docker-compose.monorepo.yml up -d
        sleep 5
        echo -e "${GREEN}‚úÖ Services red√©marr√©s${NC}"
    fi
fi

# ============================================================
# 2. V√âRIFICATION NGINX HTTPS
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}2Ô∏è‚É£  V√âRIFICATION NGINX HTTPS${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

# V√©rifier si Nginx √©coute sur les bons ports
PORTS=(443 8443 8444 8445)
MISSING_PORTS=()

for port in "${PORTS[@]}"; do
    if sudo ss -tulpn | grep -q ":$port"; then
        print_check 0 "Nginx √©coute sur le port $port"
    else
        print_check 1 "Nginx N'√©coute PAS sur le port $port"
        MISSING_PORTS+=("$port")
    fi
done

if [ ${#MISSING_PORTS[@]} -gt 0 ]; then
    echo ""
    echo -e "${YELLOW}‚ö†Ô∏è  Ports manquants: ${MISSING_PORTS[*]}${NC}"
    
    if [ ! -f "add-ollama-to-nginx.sh" ]; then
        echo -e "${RED}‚ùå Script add-ollama-to-nginx.sh introuvable${NC}"
        echo -e "${YELLOW}Faites: git pull origin main${NC}"
    else
        read -p "Voulez-vous configurer Nginx HTTPS (avec Ollama sur 8445) ? (o/n) " -n 1 -r
        echo
        if [[ $REPLY =~ ^[Oo]$ ]]; then
            chmod +x add-ollama-to-nginx.sh
            sudo ./add-ollama-to-nginx.sh
        fi
    fi
fi

# ============================================================
# 3. V√âRIFICATION DES PROFILS UTILISATEURS
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}3Ô∏è‚É£  V√âRIFICATION DES PROFILS UTILISATEURS${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

USERS_COUNT=$(docker exec antislash-talk-db psql -U postgres -d postgres -t -c "SELECT count(*) FROM auth.users;" 2>/dev/null | tr -d ' ')
PROFILES_COUNT=$(docker exec antislash-talk-db psql -U postgres -d postgres -t -c "SELECT count(*) FROM public.profiles;" 2>/dev/null | tr -d ' ')

echo "üë• Utilisateurs dans auth.users: $USERS_COUNT"
echo "üìã Profils dans public.profiles: $PROFILES_COUNT"

if [ "$USERS_COUNT" -gt "$PROFILES_COUNT" ]; then
    echo -e "${YELLOW}‚ö†Ô∏è  Il y a plus d'utilisateurs que de profils !${NC}"
    read -p "Voulez-vous cr√©er les profils manquants ? (o/n) " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Oo]$ ]]; then
        echo -e "${BLUE}üîÑ Cr√©ation des profils manquants...${NC}"
        docker exec antislash-talk-db psql -U postgres -d postgres << 'EOF'
INSERT INTO public.profiles (id, email, full_name, role)
SELECT u.id, u.email, u.email, 'user'
FROM auth.users u
LEFT JOIN public.profiles p ON u.id = p.id
WHERE p.id IS NULL
ON CONFLICT (id) DO NOTHING;
EOF
        echo -e "${GREEN}‚úÖ Profils cr√©√©s${NC}"
    fi
fi

# ============================================================
# 4. V√âRIFICATION REALTIME WEBSOCKET
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}4Ô∏è‚É£  V√âRIFICATION REALTIME WEBSOCKET${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

if docker ps | grep -q "antislash-talk-realtime"; then
    print_check 0 "Service Realtime actif"
    
    # V√©rifier les logs pour des erreurs
    REALTIME_ERRORS=$(docker logs antislash-talk-realtime --tail 20 2>&1 | grep -i "error" | wc -l)
    if [ "$REALTIME_ERRORS" -gt 0 ]; then
        echo -e "${YELLOW}‚ö†Ô∏è  $REALTIME_ERRORS erreur(s) dans les logs Realtime${NC}"
        read -p "Voulez-vous red√©marrer Realtime ? (o/n) " -n 1 -r
        echo
        if [[ $REPLY =~ ^[Oo]$ ]]; then
            docker compose -f docker-compose.monorepo.yml restart realtime
            echo -e "${GREEN}‚úÖ Realtime red√©marr√©${NC}"
        fi
    fi
else
    print_check 1 "Service Realtime NON actif"
    read -p "Voulez-vous d√©marrer Realtime ? (o/n) " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Oo]$ ]]; then
        docker compose -f docker-compose.monorepo.yml up -d realtime
        echo -e "${GREEN}‚úÖ Realtime d√©marr√©${NC}"
    fi
fi

# ============================================================
# 5. V√âRIFICATION OLLAMA
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}5Ô∏è‚É£  V√âRIFICATION OLLAMA${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

if docker ps | grep -q "antislash-talk-ollama"; then
    print_check 0 "Container Ollama actif"
    
    # Test API
    if curl -sf http://localhost:11434/api/tags > /dev/null 2>&1; then
        print_check 0 "API Ollama accessible (HTTP)"
    else
        print_check 1 "API Ollama NON accessible (HTTP)"
    fi
    
    # Test HTTPS via Nginx
    if curl -sfk https://localhost:8445/api/tags > /dev/null 2>&1; then
        print_check 0 "API Ollama accessible (HTTPS via Nginx)"
    else
        print_check 1 "API Ollama NON accessible (HTTPS via Nginx)"
        echo -e "${YELLOW}üí° Configurez Nginx HTTPS avec: sudo ./add-ollama-to-nginx.sh${NC}"
    fi
    
    # V√©rifier les mod√®les
    MODELS_COUNT=$(curl -sf http://localhost:11434/api/tags 2>/dev/null | grep -o '"models":\[' | wc -l)
    if [ "$MODELS_COUNT" -gt 0 ]; then
        echo -e "${GREEN}üì¶ Mod√®les Ollama install√©s${NC}"
        docker exec antislash-talk-ollama ollama list
    else
        echo -e "${YELLOW}‚ö†Ô∏è  Aucun mod√®le Ollama install√©${NC}"
        read -p "Voulez-vous installer un mod√®le ? (recommand√©: llama3.2:3b) (o/n) " -n 1 -r
        echo
        if [[ $REPLY =~ ^[Oo]$ ]]; then
            echo -e "${BLUE}üì• T√©l√©chargement de llama3.2:3b (peut prendre plusieurs minutes)...${NC}"
            docker exec antislash-talk-ollama ollama pull llama3.2:3b
            echo -e "${GREEN}‚úÖ Mod√®le install√©${NC}"
        fi
    fi
else
    print_check 1 "Container Ollama NON actif"
fi

# ============================================================
# 6. TEST DE CONNECTIVIT√â GLOBALE
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}6Ô∏è‚É£  TEST DE CONNECTIVIT√â GLOBALE${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

VPS_IP=$(curl -4 -s ifconfig.me 2>/dev/null || echo "37.59.118.101")

echo "üåê Test des endpoints publics..."

# Test Web App
if curl -sfk "https://$VPS_IP" -o /dev/null 2>&1; then
    print_check 0 "Web App (HTTPS)"
else
    print_check 1 "Web App (HTTPS)"
fi

# Test API
if curl -sfk "https://$VPS_IP:8443/rest/v1/" -o /dev/null 2>&1; then
    print_check 0 "API Supabase (HTTPS:8443)"
else
    print_check 1 "API Supabase (HTTPS:8443)"
fi

# Test Studio
if curl -sfk "https://$VPS_IP:8444" -o /dev/null 2>&1; then
    print_check 0 "Studio (HTTPS:8444)"
else
    print_check 1 "Studio (HTTPS:8444)"
fi

# Test Ollama
if curl -sfk "https://$VPS_IP:8445/api/tags" -o /dev/null 2>&1; then
    print_check 0 "Ollama API (HTTPS:8445)"
else
    print_check 1 "Ollama API (HTTPS:8445)"
fi

# ============================================================
# 7. R√âSUM√â ET RECOMMANDATIONS
# ============================================================
echo ""
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BLUE}7Ô∏è‚É£  R√âSUM√â ET RECOMMANDATIONS${NC}"
echo -e "${BLUE}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"

echo ""
echo -e "${GREEN}‚úÖ Diagnostic termin√© !${NC}"
echo ""
echo -e "${YELLOW}üìã Actions recommand√©es :${NC}"
echo ""

if [ ${#MISSING_SERVICES[@]} -gt 0 ]; then
    echo "  1. Red√©marrer les services manquants:"
    echo "     docker compose -f ~/antislash-talk/docker-compose.monorepo.yml up -d"
    echo ""
fi

if [ ${#MISSING_PORTS[@]} -gt 0 ]; then
    echo "  2. Configurer Nginx HTTPS complet:"
    echo "     cd ~/antislash-talk && sudo ./add-ollama-to-nginx.sh"
    echo ""
fi

if [ "$USERS_COUNT" -gt "$PROFILES_COUNT" ]; then
    echo "  3. Cr√©er les profils manquants (d√©j√† propos√© ci-dessus)"
    echo ""
fi

echo "  4. V√©rifier les logs des services en erreur:"
echo "     docker logs antislash-talk-realtime --tail 50"
echo "     docker logs antislash-talk-auth --tail 50"
echo ""

echo "  5. Rebuilder le frontend si les variables d'env ont chang√©:"
echo "     cd ~/antislash-talk && ./rebuild-web.sh"
echo ""

echo -e "${BLUE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
echo -e "${BLUE}‚ïë    üìç URLS D'ACC√àS                                        ‚ïë${NC}"
echo -e "${BLUE}‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£${NC}"
echo -e "${GREEN}‚ïë  üåê App      : https://$VPS_IP                      ${NC}"
echo -e "${GREEN}‚ïë  üîß Studio   : https://$VPS_IP:8444                 ${NC}"
echo -e "${GREEN}‚ïë  üîå API      : https://$VPS_IP:8443                 ${NC}"
echo -e "${GREEN}‚ïë  ü§ñ Ollama   : https://$VPS_IP:8445                 ${NC}"
echo -e "${BLUE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
echo ""

