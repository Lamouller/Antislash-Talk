@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Safe Area CSS Variables - pour iOS Dynamic Island et Android notches */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  
  /* Minimum padding for status bar (fallback if env not supported) */
  --min-status-bar-height: 44px;
  --min-bottom-bar-height: 34px;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

html {
  /* Ensure full height on mobile browsers */
  height: 100%;
  height: -webkit-fill-available;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  min-height: -webkit-fill-available;
  /* Remove body padding - we'll handle it in components */
}

/* ===========================================
   iOS Safe Areas - Dynamic Island & Notch
   =========================================== */

/* iOS Capacitor app - Full edge-to-edge support */
html.ios,
.capacitor-ios {
  /* Enable safe area environment variables */
  padding: 0;
}

/* iOS status bar area - pour NavBar et headers */
.safe-area-top {
  padding-top: var(--safe-area-inset-top);
  padding-top: env(safe-area-inset-top, 0px);
}

/* iOS home indicator area - pour bottom navigation */
.safe-area-bottom {
  padding-bottom: var(--safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Full safe area padding */
.safe-area-all {
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* ===========================================
   Android Safe Areas - Notches & Cutouts
   =========================================== */

/* Android with display cutouts */
@supports (padding-top: env(safe-area-inset-top)) {
  .android-cutout-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }
}

/* ===========================================
   Mobile Navigation Components
   =========================================== */

/* Top navigation bar with safe area */
.mobile-nav-top {
  padding-top: max(var(--safe-area-inset-top), 0px);
  padding-top: max(env(safe-area-inset-top, 0px), 0px);
}

/* Bottom navigation bar with safe area */
.mobile-nav-bottom {
  padding-bottom: max(var(--safe-area-inset-bottom), 0px);
  padding-bottom: max(env(safe-area-inset-bottom, 0px), 0px);
}

/* Fixed header that respects Dynamic Island */
.fixed-header-safe {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding-top: env(safe-area-inset-top, 0px);
  z-index: 50;
}

/* Fixed bottom bar that respects home indicator */
.fixed-bottom-safe {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding-bottom: env(safe-area-inset-bottom, 0px);
  z-index: 50;
}

/* ===========================================
   Capacitor Platform Specific
   =========================================== */

/* iOS specific adjustments */
.capacitor-ios .app-content {
  /* Add padding for content to not overlap with fixed nav */
  padding-top: calc(64px + env(safe-area-inset-top, 0px));
}

/* Android specific adjustments */
.capacitor-android .app-content {
  padding-top: calc(64px + env(safe-area-inset-top, 0px));
}

/* Standalone PWA mode (iOS Add to Home Screen) */
@media all and (display-mode: standalone) {
  .standalone-safe {
    padding-top: env(safe-area-inset-top, 20px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* ===========================================
   Utility Classes for Safe Areas
   =========================================== */

/* Margin utilities for safe areas */
.mt-safe { margin-top: env(safe-area-inset-top, 0px); }
.mb-safe { margin-bottom: env(safe-area-inset-bottom, 0px); }
.ml-safe { margin-left: env(safe-area-inset-left, 0px); }
.mr-safe { margin-right: env(safe-area-inset-right, 0px); }

/* Padding utilities for safe areas */
.pt-safe { padding-top: env(safe-area-inset-top, 0px); }
.pb-safe { padding-bottom: env(safe-area-inset-bottom, 0px); }
.pl-safe { padding-left: env(safe-area-inset-left, 0px); }
.pr-safe { padding-right: env(safe-area-inset-right, 0px); }

/* Combined padding */
.px-safe { 
  padding-left: env(safe-area-inset-left, 0px); 
  padding-right: env(safe-area-inset-right, 0px); 
}
.py-safe { 
  padding-top: env(safe-area-inset-top, 0px); 
  padding-bottom: env(safe-area-inset-bottom, 0px); 
}

/* Min-height accounting for safe areas */
.min-h-screen-safe {
  min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}

/* Custom Scrollbar Styles for Meeting Details */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}
